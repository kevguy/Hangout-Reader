{"version":3,"sources":["webpack:///about_page.js","webpack:///./js/app.js","webpack:///./js/selectFileStream.js","webpack:///external \"jQuery\"","webpack:///./js/uploadfile-worker.js","webpack:///external \"Rx\"","webpack:///external \"Vue\"","webpack:///external \"dialogPolyfill\""],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","createVueStuff","store","state","search_results","conversation_list","history","chosen_conversation_id","enable_table_mode","enable_show_person","enable_show_time","enable_show_msg","_Vue2","component","template","data","methods","closeSettingsDialog","el","document","querySelector","classList","add","switchConv","conv_id","this","$root","$data","click","openSettingsDialog","settingEl","remove","sharedState","watch","deep","handler","GLOBAL_OBJ","conversations","get","getImageUrl","senderId","url","imageByGaiaIdMap","console","log","testApp","_selectFileStream","_Vue","_dialogPolyfill","_dialogPolyfill2","Map","vueInstance","dialog","closeButton","showButton","showModal","registerDialog","closeClickHandler","event","close","showClickHandler","addEventListener","stream","createSelectImageStream","subscribe","response","Object","defineProperty","value","undefined","_jQuery","_jQuery2","Worker","Rx","getJSON","elementId","handleFile","snackbar","snackbarData","message","timeout","actionHandler","actionText","MaterialSnackbar","showSnackbar","createFetchProfileImgsStream","_Rx$Observable","streams","id_list","map","list","participants","participant","push","name_id","Observable","fromPromise","fetch","flatMap","json","retrywhen","error","err","code","of","timer","image","set","merge","apply","createLoadFileStream","files","fileList","file","appLogoInputFileNameElement","name","worker","postMessage","create","observer","onmessage","e","next","just","container","appLogoInputElement","dropbox","previewElement","uploadBtn","uploadBtnStream","o","context","action","do","uploadStream","dragenterStream","stopPropagation","preventDefault","dragleaveStream","dragoverStream","dropStream","dt","dataTransfer","selectImageStream","jQuery","p","Vue","dialogPolyfill"],"mappings":"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","file":"about_page.js","sourcesContent":["webpackJsonp([0,2],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*jslint node: true */\n\t'use strict';\n\t\n\tvar _selectFileStream = __webpack_require__(1);\n\t\n\tvar _Vue = __webpack_require__(5);\n\t\n\tvar _Vue2 = _interopRequireDefault(_Vue);\n\t\n\tvar _dialogPolyfill = __webpack_require__(6);\n\t\n\tvar _dialogPolyfill2 = _interopRequireDefault(_dialogPolyfill);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar GLOBAL_OBJ = {\n\t\tconversations: [],\n\t\timageByGaiaIdMap: new Map()\n\t};\n\t\n\tfunction createVueStuff() {\n\t\n\t\tvar store = {\n\t\t\tstate: {\n\t\t\t\tsearch_results: [],\n\t\t\t\tconversation_list: [],\n\t\t\t\thistory: [],\n\t\t\t\tchosen_conversation_id: 0,\n\t\t\t\tenable_table_mode: false,\n\t\t\t\tenable_show_person: true,\n\t\t\t\tenable_show_time: true,\n\t\t\t\tenable_show_msg: true\n\t\t\t}\n\t\t};\n\t\n\t\t_Vue2.default.component('settings-vue', {\n\t\t\ttemplate: '#settings-vue-component',\n\t\t\tdata: function data() {\n\t\t\t\treturn store.state;\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tcloseSettingsDialog: function closeSettingsDialog() {\n\t\t\t\t\tvar el = document.querySelector('.setting-dialog');\n\t\t\t\t\tel.classList.add(\"setting-not-visible\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t_Vue2.default.component('menu-vue', {\n\t\t\ttemplate: '#menu-vue-component',\n\t\t\tdata: function data() {\n\t\t\t\treturn store.state;\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tswitchConv: function switchConv(conv_id) {\n\t\t\t\t\tthis.$root.$data.chosen_conversation_id = conv_id;\n\t\t\t\t\tvar el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\t\tel.click();\n\t\t\t\t},\n\t\t\t\topenSettingsDialog: function openSettingsDialog() {\n\t\t\t\t\tvar settingEl = document.querySelector('.setting-dialog');\n\t\t\t\t\tsettingEl.classList.remove(\"setting-not-visible\");\n\t\t\t\t\tvar el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\t\tel.click();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t_Vue2.default.component('detail-vue', {\n\t\t\ttemplate: '#detail-vue-component',\n\t\t\tdata: function data() {\n\t\t\t\treturn {\n\t\t\t\t\tsharedState: this.$root.$data,\n\t\t\t\t\tchosen_conversation_id: 0,\n\t\t\t\t\tenable_table_mode: false\n\t\t\t\t};\n\t\t\t},\n\t\t\twatch: {\n\t\t\t\tsharedState: {\n\t\t\t\t\tdeep: true,\n\t\t\t\t\thandler: function handler() {\n\t\t\t\t\t\tif (this.$root.$data.chosen_conversation_id !== this.chosen_conversation_id) {\n\t\t\t\t\t\t\tthis.chosen_conversation_id = this.$root.$data.chosen_conversation_id;\n\t\t\t\t\t\t\tthis.$root.$data.history = GLOBAL_OBJ.conversations.get(this.chosen_conversation_id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.$root.$data.enable_table_mode !== this.enable_table_mode) {\n\t\t\t\t\t\t\tthis.enable_table_mode = this.$root.$data.enable_table_mode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tgetImageUrl: function getImageUrl(senderId) {\n\t\t\t\t\tvar url = GLOBAL_OBJ.imageByGaiaIdMap.get(senderId);\n\t\t\t\t\tconsole.log(senderId);\n\t\t\t\t\tconsole.log(GLOBAL_OBJ.imageByGaiaIdMap);\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\tconsole.log(url);\n\t\t\t\t\t\treturn url;\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log('bruh');\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\tvar testApp = new _Vue2.default({\n\t\t\tel: '#app',\n\t\t\tdata: store.state\n\t\t});\n\t\n\t\tconsole.log('Vue is live!');\n\t\treturn testApp;\n\t}\n\t\n\t(function (document) {\n\t\tvar vueInstance = createVueStuff();\n\t\tvar dialog = document.querySelector('#modal-example');\n\t\tvar closeButton = dialog.querySelector('button');\n\t\tvar showButton = document.querySelector('#show-modal-example');\n\t\tif (!dialog.showModal) {\n\t\t\t_dialogPolyfill2.default.registerDialog(dialog);\n\t\t}\n\t\tvar closeClickHandler = function closeClickHandler(event) {\n\t\t\tif (event) {\n\t\t\t\tdialog.close();\n\t\t\t}\n\t\t};\n\t\tvar showClickHandler = function showClickHandler(event) {\n\t\t\tif (event) {\n\t\t\t\tdialog.showModal();\n\t\t\t}\n\t\t};\n\t\tshowButton.addEventListener('click', showClickHandler);\n\t\tcloseButton.addEventListener('click', closeClickHandler);\n\t\n\t\tvar stream = (0, _selectFileStream.createSelectImageStream)('app-logo-container', vueInstance, GLOBAL_OBJ);\n\t\tstream.subscribe(function (response) {\n\t\t\tconsole.log(response);\n\t\t});\n\t})(document);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*jslint node: true */\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createSelectImageStream = undefined;\n\t\n\tvar _jQuery = __webpack_require__(2);\n\t\n\tvar _jQuery2 = _interopRequireDefault(_jQuery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Worker = __webpack_require__(3);\n\tvar Rx = __webpack_require__(4);\n\t\n\t_jQuery2.default.getJSON(\"https://www.googleapis.com/plus/v1/people/115681458968227650592?key=AIzaSyD6SrPQUrQlVpmbC3qGR8lXwNorOW_jqH4\", function (data) {\n\t\tconsole.log(data);\n\t});\n\t\n\tvar createSelectImageStream = function createSelectImageStream(elementId, vueInstance, GLOBAL_OBJ) {\n\t\n\t\tvar worker = new Worker();\n\t\n\t\tvar container = '#' + elementId;\n\t\n\t\tvar appLogoInputElement = document.querySelector(container + ' input[type=\"file\"].kev-inputFile');\n\t\tvar appLogoInputFileNameElement = document.querySelector(container + ' input[type=\"text\"].kev-inputFileName');\n\t\tvar dropbox = document.querySelector(container + ' div.kev-dropzone');\n\t\tvar previewElement = document.querySelector(container + ' .kev-img-container > img.kev-preview');\n\t\tvar uploadBtn = document.querySelector(container + ' .kev-inputFile-btn');\n\t\n\t\tfunction handleFile(data) {\n\t\t\tvueInstance.conversation_list = data.conversation_list;\n\t\t\tGLOBAL_OBJ.conversation_list = data.conversation_list;\n\t\t\tGLOBAL_OBJ.conversations = data.conversations;\n\t\n\t\t\tvar el = document.querySelector('.upload-status');\n\t\t\tel.classList.remove('upload-complete-not-visible');\n\t\n\t\t\tel = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.add('progress-bar-not-visible');\n\t\n\t\t\tel = document.querySelector('.upload-dialog');\n\t\t\tel.classList.add('upload-not-visible');\n\t\n\t\t\tvar snackbar = document.querySelector('#load-complete');\n\t\t\tvar snackbarData = {\n\t\t\t\tmessage: 'JSON loaded',\n\t\t\t\ttimeout: 5000,\n\t\t\t\tactionHandler: function actionHandler(event) {\n\t\t\t\t\tif (event) {\n\t\t\t\t\t\tsnackbar.classList.remove('mdl-snackbar--active');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tactionText: 'Close'\n\t\t\t};\n\t\t\tsnackbar.MaterialSnackbar.showSnackbar(snackbarData);\n\t\n\t\t\tel = document.querySelector('.mdl-layout__drawer-button');\n\t\t\tel.click();\n\t\t}\n\t\n\t\t// function createSingleFetchProfileImgStream(sender_id){\n\t\t// \tlet stream = Rx.Observable.fromPromise(\n\t\t// \t\t)\n\t\t// \t\t.flatMap(function(response){\n\t\t// \t\t\treturn Rx.Observable.fromPromise(response.json());\n\t\t// \t\t})\n\t\t// \t\t.retrywhen(function(error){\n\t\t// \t\t\treturn error.flatMap(function(err){\n\t\t// \t\t\t\tif (err.code === 403 || err.message === \"User Rate Limit Exceeded\"){\n\t\t// \t\t\t\t\treturn Rx.Observable\n\t\t// \t\t\t\t\t\t\t\t.of('retrying')\n\t\t// \t\t\t\t\t\t\t\t.timer(1000);\n\t\t// \t\t\t\t} else {\n\t\t// \t\t\t\t\treturn Rx.Observable.of('404 error');\n\t\t// \t\t\t\t}\n\t\t// \t\t\t});\n\t\t// \t\t})\n\t\t// \t\t// .catch(function(error){\n\t\t// \t\t// \tconsole.log('')\n\t\t// \t\t// })\n\t\t// }\n\t\n\t\n\t\tfunction createFetchProfileImgsStream() {\n\t\t\tvar _Rx$Observable;\n\t\n\t\t\tvar streams = [];\n\t\t\tvar id_list = [];\n\t\n\t\t\tGLOBAL_OBJ.conversation_list.map(function (list) {\n\t\t\t\tlist.participants.map(function (participant) {\n\t\t\t\t\tid_list.push(participant.name_id);\n\t\n\t\t\t\t\tif (!GLOBAL_OBJ.imageByGaiaIdMap.get(participant.name_id)) {\n\t\t\t\t\t\t// let stream = Rx.Observable.fromPromise(\n\t\t\t\t\t\t// \tfetch('https://www.googleapis.com/plus/v1/people/' + participant.name_id + \n\t\t\t\t\t\t// \t\t\t\t\t'?key=AIzaSyD6SrPQUrQlVpmbC3qGR8lXwNorOW_jqH4'))\n\t\t\t\t\t\t// \t.flatMap(function(response){\n\t\t\t\t\t\t// \t\treturn Rx.Observable.fromPromise(response.json());\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// \t.catch(function(error){\n\t\t\t\t\t\t// \t\tconsole.log('There has been an error ', error.message);\n\t\t\t\t\t\t// \t\treturn Rx.Observable.of(error);\n\t\t\t\t\t\t// \t})\n\t\n\t\n\t\t\t\t\t\tvar stream = Rx.Observable.fromPromise(fetch('https://www.googleapis.com/plus/v1/people/' + participant.name_id + '?key=AIzaSyD6SrPQUrQlVpmbC3qGR8lXwNorOW_jqH4')).flatMap(function (response) {\n\t\t\t\t\t\t\treturn Rx.Observable.fromPromise(response.json());\n\t\t\t\t\t\t}).retrywhen(function (error) {\n\t\t\t\t\t\t\treturn error.flatMap(function (err) {\n\t\t\t\t\t\t\t\tif (err.code === 403 || err.message === \"User Rate Limit Exceeded\") {\n\t\t\t\t\t\t\t\t\tconsole.log('retrying');\n\t\t\t\t\t\t\t\t\treturn Rx.Observable.of('retrying').timer(1000);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.log('got an error');\n\t\t\t\t\t\t\t\t\treturn Rx.Observable.of('404 error');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).flatMap(function (response) {\n\t\t\t\t\t\t\tif (!response.error) {\n\t\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t\tconsole.log(response.image.url);\n\t\t\t\t\t\t\t\tif (response.image) {\n\t\t\t\t\t\t\t\t\tconsole.log('lets do this');\n\t\t\t\t\t\t\t\t\tGLOBAL_OBJ.imageByGaiaIdMap.set(participant.name_id, response.image.url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// console.log(GLOBAL_OBJ.imageByGaiaIdMap);\n\t\t\t\t\t\t\treturn Rx.Observable.of(response);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstreams.push(stream);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\n\t\t\t// console.log(GLOBAL_OBJ.conversations);\n\t\n\t\t\treturn (_Rx$Observable = Rx.Observable).merge.apply(_Rx$Observable, streams);\n\t\n\t\t\t// \t\tfetch('flowers.jpg')\n\t\t\t// .then(function(response) {\n\t\t\t//   if(response.ok) {\n\t\t\t//     return response.blob();\n\t\t\t//   }\n\t\t\t//   throw new Error('Network response was not ok.');\n\t\t\t// })\n\t\t\t// .then(function(myBlob) { \n\t\t\t//   var objectURL = URL.createObjectURL(myBlob); \n\t\t\t//   myImage.src = objectURL; \n\t\t\t// })\n\t\t\t// .catch(function(error) {\n\t\t\t//   console.log('There has been a problem with your fetch operation: ' + error.message);\n\t\t\t// });\n\t\t}\n\t\n\t\tfunction createLoadFileStream(files) {\n\t\t\tvar fileList = files;\n\t\n\t\t\tif (fileList) {\n\t\t\t\tvar file = fileList[0];\n\t\n\t\t\t\tif (file) {\n\t\t\t\t\tappLogoInputFileNameElement.value = file.name;\n\t\n\t\t\t\t\tworker.postMessage({ file: file });\n\t\n\t\t\t\t\treturn Rx.Observable.create(function (observer) {\n\t\t\t\t\t\tworker.onmessage = function (e) {\n\t\t\t\t\t\t\tif (e.data.conversation_list) {\n\t\t\t\t\t\t\t\tobserver.next({ data: e.data });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Rx.Observable.just(0);\n\t\t}\n\t\n\t\tvar uploadBtnStream = Rx.Observable.create(function (o) {\n\t\t\tuploadBtn.addEventListener('click', function (e) {\n\t\t\t\to.next({ event: e, context: this, action: 'click' });\n\t\t\t}, false);\n\t\t}).do(function (response) {\n\t\t\tconsole.log(response);\n\t\t\tappLogoInputElement.click();\n\t\t});\n\t\n\t\tvar uploadStream = Rx.Observable.create(function (o) {\n\t\t\tappLogoInputElement.addEventListener(\"change\", function (e) {\n\t\t\t\to.next({ event: e, context: this, action: 'change' });\n\t\t\t}, false);\n\t\t}).flatMap(function (response) {\n\t\t\tvar el = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.remove('progress-bar-not-visible');\n\t\t\treturn createLoadFileStream(response.context.files);\n\t\t}).do(function (response) {\n\t\t\tif (response !== 0) {\n\t\t\t\thandleFile(response.data);\n\t\t\t}\n\t\t}).flatMap(function (response) {\n\t\t\tif (response) {\n\t\t\t\treturn createFetchProfileImgsStream();\n\t\t\t}\n\t\t});\n\t\n\t\tvar dragenterStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener(\"dragenter\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\to.next({ event: e, context: this, action: 'dragenter' });\n\t\t\t}, false);\n\t\t});\n\t\n\t\tvar dragleaveStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener('dragleave', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tdropbox.classList.remove('kev-dragover');\n\t\t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\t\to.next({ event: e, context: this, action: 'dragleave' });\n\t\t\t}, false);\n\t\t});\n\t\n\t\tvar dragoverStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener('dragover', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tdropbox.classList.add('kev-dragover');\n\t\t\t\tpreviewElement.classList.add('kev-dragover');\n\t\t\t\to.next({ event: e, context: this, action: 'dragover' });\n\t\t\t}, false);\n\t\t});\n\t\n\t\tvar dropStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener('drop', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\n\t\t\t\tvar dt = e.dataTransfer;\n\t\t\t\tvar files = dt.files;\n\t\n\t\t\t\tvar el = document.querySelector('.upload-progress-bar');\n\t\t\t\tel.classList.remove('progress-bar-not-visible');\n\t\n\t\t\t\to.next({ event: e, context: this, action: 'drop', files: files });\n\t\t\t}, false);\n\t\t}).flatMap(function (response) {\n\t\t\treturn createLoadFileStream(response.files);\n\t\t}).do(function (response) {\n\t\t\tif (response !== 0) {\n\t\t\t\thandleFile(response.data);\n\t\t\t\tdropbox.classList.remove('kev-dragover');\n\t\t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\t\tdropbox.classList.remove('kev-init');\n\t\t\t}\n\t\t}).flatMap(function (response) {\n\t\t\tif (response) {\n\t\t\t\treturn createFetchProfileImgsStream();\n\t\t\t}\n\t\t});\n\t\t// .flatMap(function(response){\n\t\n\t\t// });\n\t\n\t\t// let cancelStream = Rx.Observable.create(function(o){\n\t\t// \tappLogoCancelBtn.addEventListener('click', function(e){\n\t\t// \t\t appLogoInputElement.value = '';\n\t\t// \t\tpreviewElement.file = undefined;\n\t\t// \t\tpreviewElement.src='';\n\t\n\t\t// \t\tappLogoInputFileNameElement.value = '';\n\t\n\t\t// \t\tdropbox.classList.add('kev-init');\n\t\n\t\t// \t\to.next({event: e, context: this, action: 'cancel'});\n\t\t// \t}, false);\n\t\t// });\n\t\n\t\t// let intervalStream = Rx.Observable\n\t\t// \t\t\t\t\t    .interval(2000 /* ms */)\n\t\t// \t\t\t\t\t    .timeInterval();\n\t\n\t\tvar selectImageStream = Rx.Observable.merge(uploadBtnStream, uploadStream, dragenterStream, dragleaveStream, dragoverStream, dropStream);\n\t\t//cancelStream);\n\t\n\t\treturn selectImageStream;\n\t};\n\t\n\texports.createSelectImageStream = createSelectImageStream;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function() {\n\t\treturn new Worker(__webpack_require__.p + \"1c6cbdb0f141e0aacbf5.worker.js\");\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Rx;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Vue;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = dialogPolyfill;\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// about_page.js","/*jslint node: true */\n'use strict';\nimport {createSelectImageStream} from './selectFileStream';\nimport Vue from 'Vue';\nimport dialogPolyfill from 'dialogPolyfill';\n\nlet GLOBAL_OBJ = {\n\tconversations: [],\n\timageByGaiaIdMap: new Map()\n};\n\nfunction createVueStuff(){\n\t\n\tlet store = {\n\t\tstate: {\n\t\t\tsearch_results: [],\n\t\t\tconversation_list: [],\n\t\t\thistory: [],\n\t\t\tchosen_conversation_id: 0,\n\t\t\tenable_table_mode: false,\n\t\t\tenable_show_person: true,\n\t\t\tenable_show_time: true,\n\t\t\tenable_show_msg: true,\n\t\t}\n\t};\n\n\tVue.component('settings-vue', {\n\t\ttemplate: '#settings-vue-component',\n\t\tdata: function(){\n\t\t\treturn store.state;\n\t\t},\n\t\tmethods: {\n\t\t\tcloseSettingsDialog(){\n\t\t\t\tlet el = document.querySelector('.setting-dialog');\n\t\t\t\tel.classList.add(\"setting-not-visible\");\n\t\t\t}\n\t\t}\n\t});\n\n\tVue.component('menu-vue', {\n\t\ttemplate: '#menu-vue-component',\n\t\tdata: function(){\n\t\t\treturn store.state;\n\t\t},\n\t\tmethods: {\n\t\t\tswitchConv(conv_id){\n\t\t\t\tthis.$root.$data.chosen_conversation_id = conv_id;\n\t\t\t\tlet el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\tel.click();\n\t\t\t},\n\t\t\topenSettingsDialog(){\n\t\t\t\tlet settingEl = document.querySelector('.setting-dialog');\n\t\t\t\tsettingEl.classList.remove(\"setting-not-visible\");\n\t\t\t\tlet el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\tel.click();\n\t\t\t}\n\t\t}\n\t});\n\n\tVue.component('detail-vue', {\n\t\ttemplate: '#detail-vue-component',\n\t\tdata: function(){\n\t\t\treturn {\n\t\t\t\tsharedState: this.$root.$data,\n\t\t\t\tchosen_conversation_id: 0,\n\t\t\t\tenable_table_mode: false,\n\t\t\t};\n\t\t},\n\t\twatch: {\n\t\t    sharedState: {\n\t          deep: true,\n\t          handler: function(){\n\t          \tif (this.$root.$data.chosen_conversation_id !== this.chosen_conversation_id){\n\t          \t\tthis.chosen_conversation_id = this.$root.$data.chosen_conversation_id;\n\t          \t\tthis.$root.$data.history = GLOBAL_OBJ.conversations.get(this.chosen_conversation_id);\n\t          \t}\n\t          \tif (this.$root.$data.enable_table_mode !== this.enable_table_mode){\n\t          \t\tthis.enable_table_mode = this.$root.$data.enable_table_mode;\n\t          \t}\n\t          }\n        \t},\n\t\t},\n\t\tmethods: {\n\t\t\tgetImageUrl(senderId){\n\t\t\t\tlet url = GLOBAL_OBJ.imageByGaiaIdMap.get(senderId);\n\t\t\t\tconsole.log(senderId);\n\t\t\t\tconsole.log(GLOBAL_OBJ.imageByGaiaIdMap);\n\t\t\t\tif (url){\n\t\t\t\t\tconsole.log(url);\n\t\t\t\t\treturn url;\n\t\t\t\t}\n\t\t\t\tconsole.log('bruh');\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t});\n\n\tlet testApp = new Vue({\n\t    el: '#app',\n\t    data: store.state\n\t  });\n\n\tconsole.log('Vue is live!');\n\treturn testApp;\n}\n\n(function(document){\n\tlet vueInstance = createVueStuff();\n\tvar dialog = document.querySelector('#modal-example');\n\tvar closeButton = dialog.querySelector('button');\n\tvar showButton = document.querySelector('#show-modal-example');\n\tif (! dialog.showModal) {\n\t    dialogPolyfill.registerDialog(dialog);\n\t}\n\tvar closeClickHandler = function(event) {\n\t\tif (event){\n\t\t\tdialog.close();\t\n\t\t}\t    \n\t};\n\tvar showClickHandler = function(event) {\n\t\tif (event){\n\t\t\tdialog.showModal();\n\t\t}\n\t};\n\tshowButton.addEventListener('click', showClickHandler);\n\tcloseButton.addEventListener('click', closeClickHandler);\n\n\tlet stream = createSelectImageStream('app-logo-container', vueInstance, GLOBAL_OBJ);\n\tstream.subscribe(\n\t\tfunction(response){\n\t\t\tconsole.log(response);\n\t\t}\n\t);\n})(document);\n\n\n// WEBPACK FOOTER //\n// ./js/app.js","/*jslint node: true */\n'use strict';\n\nvar Worker = require(\"worker!./uploadfile-worker\");\nvar Rx = require(\"Rx\");\n\nimport $ from 'jQuery';\n\n$.getJSON( \"https://www.googleapis.com/plus/v1/people/115681458968227650592?key=AIzaSyD6SrPQUrQlVpmbC3qGR8lXwNorOW_jqH4\", function( data ) {\n\tconsole.log(data);\n});\n\nlet createSelectImageStream = function createSelectImageStream(elementId, vueInstance, GLOBAL_OBJ){\n\t\n\tvar worker = new Worker();\n\n\tvar container = '#' + elementId;\n\n\tvar appLogoInputElement = document.querySelector(container + ' input[type=\"file\"].kev-inputFile');\n\tvar appLogoInputFileNameElement = document.querySelector(container + ' input[type=\"text\"].kev-inputFileName');\n\tvar dropbox = document.querySelector(container + ' div.kev-dropzone');\n\tvar previewElement = document.querySelector(container + ' .kev-img-container > img.kev-preview');\n\tvar uploadBtn = document.querySelector(container + ' .kev-inputFile-btn');\n\n\n\tfunction handleFile(data){\n\t\tvueInstance.conversation_list = data.conversation_list;\n\t\tGLOBAL_OBJ.conversation_list = data.conversation_list;\n\t\tGLOBAL_OBJ.conversations = data.conversations;\n\n\t\tlet el = document.querySelector('.upload-status');\n\t\tel.classList.remove('upload-complete-not-visible');\n\n\t\tel = document.querySelector('.upload-progress-bar');\n\t\tel.classList.add('progress-bar-not-visible');\n\n\t\tel = document.querySelector('.upload-dialog');\n\t\tel.classList.add('upload-not-visible');\n\n\t\tlet snackbar = document.querySelector('#load-complete');\n\t\tlet snackbarData = {\n\t      message: 'JSON loaded',\n\t      timeout: 5000,\n\t      actionHandler: function(event){\n\t      \tif (event){\n\t      \t\tsnackbar.classList.remove('mdl-snackbar--active');\t\n\t      \t}\n\t      },\n\t      actionText: 'Close'\n\t    };\n\t\tsnackbar.MaterialSnackbar.showSnackbar(snackbarData);\n\n\t\tel = document.querySelector('.mdl-layout__drawer-button');\n\t\tel.click();\n\t}\n\n\t// function createSingleFetchProfileImgStream(sender_id){\n\t// \tlet stream = Rx.Observable.fromPromise(\n\t// \t\t)\n\t// \t\t.flatMap(function(response){\n\t// \t\t\treturn Rx.Observable.fromPromise(response.json());\n\t// \t\t})\n\t// \t\t.retrywhen(function(error){\n\t// \t\t\treturn error.flatMap(function(err){\n\t// \t\t\t\tif (err.code === 403 || err.message === \"User Rate Limit Exceeded\"){\n\t// \t\t\t\t\treturn Rx.Observable\n\t// \t\t\t\t\t\t\t\t.of('retrying')\n\t// \t\t\t\t\t\t\t\t.timer(1000);\n\t// \t\t\t\t} else {\n\t// \t\t\t\t\treturn Rx.Observable.of('404 error');\n\t// \t\t\t\t}\n\t// \t\t\t});\n\t// \t\t})\n\t// \t\t// .catch(function(error){\n\t// \t\t// \tconsole.log('')\n\t// \t\t// })\n\t// }\n\n\n\n\n\n\t\n\n\tfunction createFetchProfileImgsStream(){\n\t\tlet streams = [];\n\t\tlet id_list = [];\n\n\t\tGLOBAL_OBJ.conversation_list.map(function(list){\n\t\t\tlist.participants.map(function(participant){\n\t\t\t\tid_list.push(participant.name_id);\n\n\t\t\t\tif (!GLOBAL_OBJ.imageByGaiaIdMap.get(participant.name_id)){\n\t\t\t\t\t// let stream = Rx.Observable.fromPromise(\n\t\t\t\t\t// \tfetch('https://www.googleapis.com/plus/v1/people/' + participant.name_id + \n\t\t\t\t\t// \t\t\t\t\t'?key=AIzaSyD6SrPQUrQlVpmbC3qGR8lXwNorOW_jqH4'))\n\t\t\t\t\t// \t.flatMap(function(response){\n\t\t\t\t\t// \t\treturn Rx.Observable.fromPromise(response.json());\n\t\t\t\t\t// \t})\n\t\t\t\t\t// \t.catch(function(error){\n\t\t\t\t\t// \t\tconsole.log('There has been an error ', error.message);\n\t\t\t\t\t// \t\treturn Rx.Observable.of(error);\n\t\t\t\t\t// \t})\n\n\n\t\t\t\t\tlet stream = Rx.Observable.fromPromise(\n\t\t\t\t\t\tfetch('https://www.googleapis.com/plus/v1/people/' + participant.name_id + \n\t\t\t\t\t\t\t\t\t\t'?key=AIzaSyD6SrPQUrQlVpmbC3qGR8lXwNorOW_jqH4')\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.flatMap(function(response){\n\t\t\t\t\t\t\treturn Rx.Observable.fromPromise(response.json());\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.retrywhen(function(error){\n\t\t\t\t\t\t\treturn error.flatMap(function(err){\n\t\t\t\t\t\t\t\tif (err.code === 403 || err.message === \"User Rate Limit Exceeded\"){\n\t\t\t\t\t\t\t\t\tconsole.log('retrying');\n\t\t\t\t\t\t\t\t\treturn Rx.Observable\n\t\t\t\t\t\t\t\t\t\t\t\t.of('retrying')\n\t\t\t\t\t\t\t\t\t\t\t\t.timer(1000);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.log('got an error');\n\t\t\t\t\t\t\t\t\treturn Rx.Observable.of('404 error');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.flatMap(function(response){\n\t\t\t\t\t\t\tif (!response.error){\n\t\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t\tconsole.log(response.image.url);\n\t\t\t\t\t\t\t\tif (response.image){\n\t\t\t\t\t\t\t\t\tconsole.log('lets do this');\n\t\t\t\t\t\t\t\t\tGLOBAL_OBJ.imageByGaiaIdMap.set(participant.name_id, response.image.url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// console.log(GLOBAL_OBJ.imageByGaiaIdMap);\n\t\t\t\t\t\t\treturn Rx.Observable.of(response);\n\t\t\t\t\t\t});\n\t\t\t\t\tstreams.push(stream);\n\t\t\t\t}\t\n\t\t\t});\n\t\t});\n\n\t\t// console.log(GLOBAL_OBJ.conversations);\n\n\t\treturn Rx.Observable.merge(...streams);\n\n\n// \t\tfetch('flowers.jpg')\n// .then(function(response) {\n//   if(response.ok) {\n//     return response.blob();\n//   }\n//   throw new Error('Network response was not ok.');\n// })\n// .then(function(myBlob) { \n//   var objectURL = URL.createObjectURL(myBlob); \n//   myImage.src = objectURL; \n// })\n// .catch(function(error) {\n//   console.log('There has been a problem with your fetch operation: ' + error.message);\n// });\n\t}\n\n\n\tfunction createLoadFileStream(files){\n\t\tlet fileList = files;\n\n\t\tif (fileList){\n\t\t\tlet file = fileList[0];\n\n\t\t\tif (file){\n\t\t\t\tappLogoInputFileNameElement.value = file.name;\n\n\t\t\t\tworker.postMessage({file});\n\n\t\t\t\treturn Rx.Observable.create(function(observer){\n\t\t\t\t\tworker.onmessage = function(e){\n\t\t\t\t\t\tif (e.data.conversation_list){\n\t\t\t\t\t\t\tobserver.next({data: e.data});\n\t\t\t\t\t\t}\t\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t} \n\t\treturn Rx.Observable.just(0);\n\t}\n\n\tlet uploadBtnStream = Rx.Observable.create(function(o){\n\t\t\tuploadBtn.addEventListener('click', function(e){\n\t\t\t\to.next({event: e, context: this, action:'click'});\n\t\t\t}, false);\n\t\t})\n\t\t.do(function(response){\n\t\t\tconsole.log(response);\n\t\t\tappLogoInputElement.click();\n\t\t});\n\n\tlet uploadStream = Rx.Observable.create(function(o){\n\t\t\tappLogoInputElement.addEventListener(\"change\", function(e){\n\t\t\t\to.next({event: e, context: this, action: 'change'});\n\t\t\t}, false);\n\t\t})\n\t\t.flatMap(function(response){\n\t\t\tlet el = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.remove('progress-bar-not-visible');\n\t\t\treturn createLoadFileStream(response.context.files);\n\t\t})\n\t\t.do(function(response){\n\t\t\tif (response !== 0){\n\t\t\t\thandleFile(response.data);\n\t\t\t}\n\t\t})\n\t\t.flatMap(function(response){\n\t\t\tif (response){\n\t\t\t\treturn createFetchProfileImgsStream();\t\n\t\t\t}\n\t\t});\n\n\tlet dragenterStream = Rx.Observable.create(function(o){\n\t\t\tdropbox.addEventListener(\"dragenter\", function(e){\n\t\t\t\te.stopPropagation();\n\t  \t\t\te.preventDefault();\n\t\t\t\to.next({event: e, context: this, action: 'dragenter'});\n\t\t\t}, false);\n\t\t});\n\n\tlet dragleaveStream = Rx.Observable.create(function(o){\n\t\t\tdropbox.addEventListener('dragleave', function(e){\n\t\t\t\te.stopPropagation();\n\t  \t\t\te.preventDefault();\n\t  \t\t\tdropbox.classList.remove('kev-dragover');\n\t  \t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\t\to.next({event: e, context: this, action: 'dragleave'});\n\t\t\t}, false);\n\t});\n\n\tlet dragoverStream = Rx.Observable.create(function(o){\n\t\tdropbox.addEventListener('dragover', function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tdropbox.classList.add('kev-dragover');\n\t\t\tpreviewElement.classList.add('kev-dragover');\n\t\t\to.next({event: e, context: this, action: 'dragover'});\n\t\t}, false);\n\t});\n\n\tlet dropStream = Rx.Observable.create(function(o){\n\t\tdropbox.addEventListener('drop', function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tlet dt = e.dataTransfer;\n\t\t\tlet files = dt.files;\n\n\t\t\tlet el = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.remove('progress-bar-not-visible');\n\n\t\t\to.next({event: e, context: this, action: 'drop', files: files});\n\n\t\t}, false);\n\t})\n\t.flatMap(function(response){\n\t\treturn createLoadFileStream(response.files);\n\t})\n\t.do(function(response){\n\t\tif (response !== 0){\n\t\t\thandleFile(response.data);\n\t\t\tdropbox.classList.remove('kev-dragover');\n\t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\tdropbox.classList.remove('kev-init');\n\t\t}\n\t})\n\t.flatMap(function(response){\n\t\tif (response){\n\t\t\treturn createFetchProfileImgsStream();\t\n\t\t}\n\t});\n\t// .flatMap(function(response){\n\n\t// });\n\n\t// let cancelStream = Rx.Observable.create(function(o){\n\t// \tappLogoCancelBtn.addEventListener('click', function(e){\n\t// \t\t appLogoInputElement.value = '';\n\t// \t\tpreviewElement.file = undefined;\n\t// \t\tpreviewElement.src='';\n\n\t// \t\tappLogoInputFileNameElement.value = '';\n\n\t// \t\tdropbox.classList.add('kev-init');\n\n\t// \t\to.next({event: e, context: this, action: 'cancel'});\n\t// \t}, false);\n\t// });\n\n\t// let intervalStream = Rx.Observable\n\t// \t\t\t\t\t    .interval(2000 /* ms */)\n\t// \t\t\t\t\t    .timeInterval();\n\n\tlet selectImageStream = Rx.Observable.merge(uploadBtnStream,\n\t\t\t\t\t\t\t\t\t\tuploadStream, \n\t\t\t\t\t\t\t\t\t\tdragenterStream,\n\t\t\t\t\t\t\t\t\t\tdragleaveStream,\n\t\t\t\t\t\t\t\t\t\tdragoverStream, \n\t\t\t\t\t\t\t\t\t\tdropStream);\n\t\t\t\t\t\t\t\t\t\t//cancelStream);\n\n\treturn selectImageStream;\n};\n\n\nexport {createSelectImageStream};\n\n\n// WEBPACK FOOTER //\n// ./js/selectFileStream.js","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 2\n// module chunks = 0","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"1c6cbdb0f141e0aacbf5.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader!./js/uploadfile-worker.js\n// module id = 3\n// module chunks = 0","module.exports = Rx;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Rx\"\n// module id = 4\n// module chunks = 0","module.exports = Vue;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Vue\"\n// module id = 5\n// module chunks = 0","module.exports = dialogPolyfill;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dialogPolyfill\"\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}