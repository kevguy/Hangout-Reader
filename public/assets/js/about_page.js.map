{"version":3,"sources":["webpack:///about_page.js","webpack:///./js/app.js","webpack:///./js/selectFileStream.js","webpack:///./js/uploadfile-worker.js","webpack:///external \"Rx\"","webpack:///external \"Vue\"","webpack:///external \"dialogPolyfill\""],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","createVueStuff","store","state","conversation_list","history","chosen_conversation_id","enable_table_mode","_Vue2","component","template","data","methods","closeSettingsDialog","el","document","querySelector","classList","add","switchConv","conv_id","this","$root","$data","click","openSettingsDialog","settingEl","remove","sharedState","watch","deep","handler","GLOBAL_OBJ","conversations","get","testApp","console","log","_selectFileStream","_Vue","_dialogPolyfill","_dialogPolyfill2","imageByGaiaIdMap","Map","vueInstance","dialog","closeButton","showButton","showModal","registerDialog","closeClickHandler","event","close","showClickHandler","addEventListener","stream","createSelectImageStream","subscribe","response","Object","defineProperty","value","Worker","Rx","elementId","handleFile","snackbar","snackbarData","message","timeout","actionHandler","actionText","MaterialSnackbar","showSnackbar","createLoadFileStream","files","fileList","file","appLogoInputFileNameElement","name","worker","postMessage","Observable","create","observer","onmessage","e","next","just","container","appLogoInputElement","dropbox","previewElement","uploadBtn","uploadBtnStream","o","context","action","do","uploadStream","flatMap","dragenterStream","stopPropagation","preventDefault","dragleaveStream","dragoverStream","dropStream","dt","dataTransfer","selectImageStream","merge","p","Vue","dialogPolyfill"],"mappings":"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","file":"about_page.js","sourcesContent":["webpackJsonp([0,2],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*jslint node: true */\n\t'use strict';\n\t\n\tvar _selectFileStream = __webpack_require__(1);\n\t\n\tvar _Vue = __webpack_require__(4);\n\t\n\tvar _Vue2 = _interopRequireDefault(_Vue);\n\t\n\tvar _dialogPolyfill = __webpack_require__(5);\n\t\n\tvar _dialogPolyfill2 = _interopRequireDefault(_dialogPolyfill);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar GLOBAL_OBJ = {\n\t\tconversations: [],\n\t\timageByGaiaIdMap: new Map()\n\t};\n\t\n\tfunction createVueStuff() {\n\t\n\t\tvar store = {\n\t\t\tstate: {\n\t\t\t\tconversation_list: [],\n\t\t\t\thistory: [],\n\t\t\t\tchosen_conversation_id: 0,\n\t\t\t\tenable_table_mode: false\n\t\t\t}\n\t\t};\n\t\n\t\t_Vue2.default.component('settings-vue', {\n\t\t\ttemplate: '#settings-vue-component',\n\t\t\tdata: function data() {\n\t\t\t\treturn store.state;\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tcloseSettingsDialog: function closeSettingsDialog() {\n\t\t\t\t\tvar el = document.querySelector('.setting-dialog');\n\t\t\t\t\tel.classList.add(\"setting-not-visible\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t_Vue2.default.component('menu-vue', {\n\t\t\ttemplate: '#menu-vue-component',\n\t\t\tdata: function data() {\n\t\t\t\treturn store.state;\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tswitchConv: function switchConv(conv_id) {\n\t\t\t\t\tthis.$root.$data.chosen_conversation_id = conv_id;\n\t\t\t\t\tvar el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\t\tel.click();\n\t\t\t\t},\n\t\t\t\topenSettingsDialog: function openSettingsDialog() {\n\t\t\t\t\tvar settingEl = document.querySelector('.setting-dialog');\n\t\t\t\t\tsettingEl.classList.remove(\"setting-not-visible\");\n\t\t\t\t\tvar el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\t\tel.click();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\n\t\t_Vue2.default.component('detail-vue', {\n\t\t\ttemplate: '#detail-vue-component',\n\t\t\tdata: function data() {\n\t\t\t\treturn {\n\t\t\t\t\tsharedState: this.$root.$data,\n\t\t\t\t\tchosen_conversation_id: 0,\n\t\t\t\t\tenable_table_mode: false\n\t\t\t\t};\n\t\t\t},\n\t\t\twatch: {\n\t\t\t\tsharedState: {\n\t\t\t\t\tdeep: true,\n\t\t\t\t\thandler: function handler() {\n\t\t\t\t\t\tif (this.$root.$data.chosen_conversation_id !== this.chosen_conversation_id) {\n\t\t\t\t\t\t\tthis.chosen_conversation_id = this.$root.$data.chosen_conversation_id;\n\t\t\t\t\t\t\tthis.$root.$data.history = GLOBAL_OBJ.conversations.get(this.chosen_conversation_id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.$root.$data.enable_table_mode !== this.enable_table_mode) {\n\t\t\t\t\t\t\tthis.enable_table_mode = this.$root.$data.enable_table_mode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {}\n\t\t});\n\t\n\t\tvar testApp = new _Vue2.default({\n\t\t\tel: '#app',\n\t\t\tdata: store.state\n\t\t});\n\t\n\t\tconsole.log('Vue is live!');\n\t\treturn testApp;\n\t}\n\t\n\t(function (document) {\n\t\tvar vueInstance = createVueStuff();\n\t\tvar dialog = document.querySelector('#modal-example');\n\t\tvar closeButton = dialog.querySelector('button');\n\t\tvar showButton = document.querySelector('#show-modal-example');\n\t\tif (!dialog.showModal) {\n\t\t\t_dialogPolyfill2.default.registerDialog(dialog);\n\t\t}\n\t\tvar closeClickHandler = function closeClickHandler(event) {\n\t\t\tif (event) {\n\t\t\t\tdialog.close();\n\t\t\t}\n\t\t};\n\t\tvar showClickHandler = function showClickHandler(event) {\n\t\t\tif (event) {\n\t\t\t\tdialog.showModal();\n\t\t\t}\n\t\t};\n\t\tshowButton.addEventListener('click', showClickHandler);\n\t\tcloseButton.addEventListener('click', closeClickHandler);\n\t\n\t\tvar stream = (0, _selectFileStream.createSelectImageStream)('app-logo-container', vueInstance, GLOBAL_OBJ);\n\t\tstream.subscribe(function (response) {\n\t\t\tconsole.log(response);\n\t\t});\n\t})(document);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*jslint node: true */\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar Worker = __webpack_require__(2);\n\tvar Rx = __webpack_require__(3);\n\t\n\tvar createSelectImageStream = function createSelectImageStream(elementId, vueInstance, GLOBAL_OBJ) {\n\t\n\t\tvar worker = new Worker();\n\t\n\t\tvar container = '#' + elementId;\n\t\n\t\tvar appLogoInputElement = document.querySelector(container + ' input[type=\"file\"].kev-inputFile');\n\t\tvar appLogoInputFileNameElement = document.querySelector(container + ' input[type=\"text\"].kev-inputFileName');\n\t\tvar dropbox = document.querySelector(container + ' div.kev-dropzone');\n\t\tvar previewElement = document.querySelector(container + ' .kev-img-container > img.kev-preview');\n\t\tvar uploadBtn = document.querySelector(container + ' .kev-inputFile-btn');\n\t\n\t\tfunction handleFile(data) {\n\t\t\tvueInstance.conversation_list = data.conversation_list;\n\t\t\tGLOBAL_OBJ.conversations = data.conversations;\n\t\n\t\t\tvar el = document.querySelector('.upload-status');\n\t\t\tel.classList.remove('upload-complete-not-visible');\n\t\n\t\t\tel = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.add('progress-bar-not-visible');\n\t\n\t\t\tel = document.querySelector('.upload-dialog');\n\t\t\tel.classList.add('upload-not-visible');\n\t\n\t\t\tvar snackbar = document.querySelector('#load-complete');\n\t\t\tvar snackbarData = {\n\t\t\t\tmessage: 'JSON loaded',\n\t\t\t\ttimeout: 5000,\n\t\t\t\tactionHandler: function actionHandler(event) {\n\t\t\t\t\tif (event) {\n\t\t\t\t\t\tsnackbar.classList.remove('mdl-snackbar--active');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tactionText: 'Close'\n\t\t\t};\n\t\t\tsnackbar.MaterialSnackbar.showSnackbar(snackbarData);\n\t\n\t\t\tel = document.querySelector('.mdl-layout__drawer-button');\n\t\t\tel.click();\n\t\t}\n\t\n\t\tfunction createLoadFileStream(files) {\n\t\t\tvar fileList = files;\n\t\n\t\t\tif (fileList) {\n\t\t\t\tvar file = fileList[0];\n\t\n\t\t\t\tif (file) {\n\t\t\t\t\tappLogoInputFileNameElement.value = file.name;\n\t\n\t\t\t\t\tworker.postMessage({ file: file });\n\t\n\t\t\t\t\treturn Rx.Observable.create(function (observer) {\n\t\t\t\t\t\tworker.onmessage = function (e) {\n\t\t\t\t\t\t\tif (e.data.conversation_list) {\n\t\t\t\t\t\t\t\tobserver.next({ data: e.data });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn Rx.Observable.just(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Rx.Observable.just(0);\n\t\t}\n\t\n\t\tvar uploadBtnStream = Rx.Observable.create(function (o) {\n\t\t\tuploadBtn.addEventListener('click', function (e) {\n\t\t\t\to.next({ event: e, context: this, action: 'click' });\n\t\t\t}, false);\n\t\t}).do(function (response) {\n\t\t\tconsole.log(response);\n\t\t\tappLogoInputElement.click();\n\t\t});\n\t\n\t\tvar uploadStream = Rx.Observable.create(function (o) {\n\t\t\tappLogoInputElement.addEventListener(\"change\", function (e) {\n\t\t\t\to.next({ event: e, context: this, action: 'change' });\n\t\t\t}, false);\n\t\t}).flatMap(function (response) {\n\t\t\tvar el = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.remove('progress-bar-not-visible');\n\t\t\treturn createLoadFileStream(response.context.files);\n\t\t}).do(function (response) {\n\t\t\tif (response !== 0) {\n\t\t\t\thandleFile(response.data);\n\t\t\t}\n\t\t});\n\t\n\t\tvar dragenterStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener(\"dragenter\", function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\to.next({ event: e, context: this, action: 'dragenter' });\n\t\t\t}, false);\n\t\t});\n\t\n\t\tvar dragleaveStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener('dragleave', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tdropbox.classList.remove('kev-dragover');\n\t\t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\t\to.next({ event: e, context: this, action: 'dragleave' });\n\t\t\t}, false);\n\t\t});\n\t\n\t\tvar dragoverStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener('dragover', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tdropbox.classList.add('kev-dragover');\n\t\t\t\tpreviewElement.classList.add('kev-dragover');\n\t\t\t\to.next({ event: e, context: this, action: 'dragover' });\n\t\t\t}, false);\n\t\t});\n\t\n\t\tvar dropStream = Rx.Observable.create(function (o) {\n\t\t\tdropbox.addEventListener('drop', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\n\t\t\t\tvar dt = e.dataTransfer;\n\t\t\t\tvar files = dt.files;\n\t\n\t\t\t\tvar el = document.querySelector('.upload-progress-bar');\n\t\t\t\tel.classList.remove('progress-bar-not-visible');\n\t\n\t\t\t\to.next({ event: e, context: this, action: 'drop', files: files });\n\t\t\t}, false);\n\t\t}).flatMap(function (response) {\n\t\t\treturn createLoadFileStream(response.files);\n\t\t}).do(function (response) {\n\t\t\tif (response !== 0) {\n\t\t\t\thandleFile(response.data);\n\t\t\t\tdropbox.classList.remove('kev-dragover');\n\t\t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\t\tdropbox.classList.remove('kev-init');\n\t\t\t}\n\t\t});\n\t\n\t\t// let cancelStream = Rx.Observable.create(function(o){\n\t\t// \tappLogoCancelBtn.addEventListener('click', function(e){\n\t\t// \t\t appLogoInputElement.value = '';\n\t\t// \t\tpreviewElement.file = undefined;\n\t\t// \t\tpreviewElement.src='';\n\t\n\t\t// \t\tappLogoInputFileNameElement.value = '';\n\t\n\t\t// \t\tdropbox.classList.add('kev-init');\n\t\n\t\t// \t\to.next({event: e, context: this, action: 'cancel'});\n\t\t// \t}, false);\n\t\t// });\n\t\n\t\t// let intervalStream = Rx.Observable\n\t\t// \t\t\t\t\t    .interval(2000 /* ms */)\n\t\t// \t\t\t\t\t    .timeInterval();\n\t\n\t\tvar selectImageStream = Rx.Observable.merge(uploadBtnStream, uploadStream, dragenterStream, dragleaveStream, dragoverStream, dropStream);\n\t\t//cancelStream);\n\t\n\t\treturn selectImageStream;\n\t};\n\t\n\texports.createSelectImageStream = createSelectImageStream;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function() {\n\t\treturn new Worker(__webpack_require__.p + \"5368ecd4ec1a1ac64a4c.worker.js\");\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Rx;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Vue;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = dialogPolyfill;\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// about_page.js","/*jslint node: true */\n'use strict';\nimport {createSelectImageStream} from './selectFileStream';\nimport Vue from 'Vue';\nimport dialogPolyfill from 'dialogPolyfill';\n\nlet GLOBAL_OBJ = {\n\tconversations: [],\n\timageByGaiaIdMap: new Map()\n};\n\nfunction createVueStuff(){\n\t\n\tlet store = {\n\t\tstate: {\n\t\t\tconversation_list: [],\n\t\t\thistory: [],\n\t\t\tchosen_conversation_id: 0,\n\t\t\tenable_table_mode: false\n\t\t}\n\t};\n\n\tVue.component('settings-vue', {\n\t\ttemplate: '#settings-vue-component',\n\t\tdata: function(){\n\t\t\treturn store.state;\n\t\t},\n\t\tmethods: {\n\t\t\tcloseSettingsDialog(){\n\t\t\t\tlet el = document.querySelector('.setting-dialog');\n\t\t\t\tel.classList.add(\"setting-not-visible\");\n\t\t\t}\n\t\t}\n\t});\n\n\tVue.component('menu-vue', {\n\t\ttemplate: '#menu-vue-component',\n\t\tdata: function(){\n\t\t\treturn store.state;\n\t\t},\n\t\tmethods: {\n\t\t\tswitchConv(conv_id){\n\t\t\t\tthis.$root.$data.chosen_conversation_id = conv_id;\n\t\t\t\tlet el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\tel.click();\n\t\t\t},\n\t\t\topenSettingsDialog(){\n\t\t\t\tlet settingEl = document.querySelector('.setting-dialog');\n\t\t\t\tsettingEl.classList.remove(\"setting-not-visible\");\n\t\t\t\tlet el = document.querySelector('.mdl-layout__obfuscator');\n\t\t\t\tel.click();\n\t\t\t}\n\t\t}\n\t});\n\n\tVue.component('detail-vue', {\n\t\ttemplate: '#detail-vue-component',\n\t\tdata: function(){\n\t\t\treturn {\n\t\t\t\tsharedState: this.$root.$data,\n\t\t\t\tchosen_conversation_id: 0,\n\t\t\t\tenable_table_mode: false\n\t\t\t};\n\t\t},\n\t\twatch: {\n\t\t    sharedState: {\n\t          deep: true,\n\t          handler: function(){\n\t          \tif (this.$root.$data.chosen_conversation_id !== this.chosen_conversation_id){\n\t          \t\tthis.chosen_conversation_id = this.$root.$data.chosen_conversation_id;\n\t          \t\tthis.$root.$data.history = GLOBAL_OBJ.conversations.get(this.chosen_conversation_id);\n\t          \t}\n\t          \tif (this.$root.$data.enable_table_mode !== this.enable_table_mode){\n\t          \t\tthis.enable_table_mode = this.$root.$data.enable_table_mode;\n\t          \t}\n\t          }\n        \t},\n\t\t},\n\t\tmethods: {\n\t\t}\n\t});\n\n\tlet testApp = new Vue({\n\t    el: '#app',\n\t    data: store.state\n\t  });\n\n\tconsole.log('Vue is live!');\n\treturn testApp;\n}\n\n(function(document){\n\tlet vueInstance = createVueStuff();\n\tvar dialog = document.querySelector('#modal-example');\n\tvar closeButton = dialog.querySelector('button');\n\tvar showButton = document.querySelector('#show-modal-example');\n\tif (! dialog.showModal) {\n\t    dialogPolyfill.registerDialog(dialog);\n\t}\n\tvar closeClickHandler = function(event) {\n\t\tif (event){\n\t\t\tdialog.close();\t\n\t\t}\t    \n\t};\n\tvar showClickHandler = function(event) {\n\t\tif (event){\n\t\t\tdialog.showModal();\n\t\t}\n\t};\n\tshowButton.addEventListener('click', showClickHandler);\n\tcloseButton.addEventListener('click', closeClickHandler);\n\n\tlet stream = createSelectImageStream('app-logo-container', vueInstance, GLOBAL_OBJ);\n\tstream.subscribe(\n\t\tfunction(response){\n\t\t\tconsole.log(response);\n\t\t}\n\t);\n})(document);\n\n\n// WEBPACK FOOTER //\n// ./js/app.js","/*jslint node: true */\n'use strict';\n\nvar Worker = require(\"worker!./uploadfile-worker\");\nvar Rx = require(\"Rx\");\n\nlet createSelectImageStream = function createSelectImageStream(elementId, vueInstance, GLOBAL_OBJ){\n\t\n\tvar worker = new Worker();\n\n\tvar container = '#' + elementId;\n\n\tvar appLogoInputElement = document.querySelector(container + ' input[type=\"file\"].kev-inputFile');\n\tvar appLogoInputFileNameElement = document.querySelector(container + ' input[type=\"text\"].kev-inputFileName');\n\tvar dropbox = document.querySelector(container + ' div.kev-dropzone');\n\tvar previewElement = document.querySelector(container + ' .kev-img-container > img.kev-preview');\n\tvar uploadBtn = document.querySelector(container + ' .kev-inputFile-btn');\n\n\n\tfunction handleFile(data){\n\t\tvueInstance.conversation_list = data.conversation_list;\n\t\tGLOBAL_OBJ.conversations = data.conversations;\n\n\t\tlet el = document.querySelector('.upload-status');\n\t\tel.classList.remove('upload-complete-not-visible');\n\n\t\tel = document.querySelector('.upload-progress-bar');\n\t\tel.classList.add('progress-bar-not-visible');\n\n\t\tel = document.querySelector('.upload-dialog');\n\t\tel.classList.add('upload-not-visible');\n\n\t\tlet snackbar = document.querySelector('#load-complete');\n\t\tlet snackbarData = {\n\t      message: 'JSON loaded',\n\t      timeout: 5000,\n\t      actionHandler: function(event){\n\t      \tif (event){\n\t      \t\tsnackbar.classList.remove('mdl-snackbar--active');\t\n\t      \t}\n\t      },\n\t      actionText: 'Close'\n\t    };\n\t\tsnackbar.MaterialSnackbar.showSnackbar(snackbarData);\n\n\t\tel = document.querySelector('.mdl-layout__drawer-button');\n\t\tel.click();\n\t}\n\n\n\tfunction createLoadFileStream(files){\n\t\tlet fileList = files;\n\n\t\tif (fileList){\n\t\t\tlet file = fileList[0];\n\n\t\t\tif (file){\n\t\t\t\tappLogoInputFileNameElement.value = file.name;\n\n\t\t\t\tworker.postMessage({file});\n\n\t\t\t\treturn Rx.Observable.create(function(observer){\n\t\t\t\t\tworker.onmessage = function(e){\n\t\t\t\t\t\tif (e.data.conversation_list){\n\t\t\t\t\t\t\tobserver.next({data: e.data});\n\t\t\t\t\t\t}\t\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn Rx.Observable.just(0);\n\t\t\t}\n\t\t} \n\t\treturn Rx.Observable.just(0);\n\t}\n\n\tlet uploadBtnStream = Rx.Observable.create(function(o){\n\t\t\tuploadBtn.addEventListener('click', function(e){\n\t\t\t\to.next({event: e, context: this, action:'click'});\n\t\t\t}, false);\n\t\t})\n\t\t.do(function(response){\n\t\t\tconsole.log(response);\n\t\t\tappLogoInputElement.click();\n\t\t});\n\n\tlet uploadStream = Rx.Observable.create(function(o){\n\t\t\tappLogoInputElement.addEventListener(\"change\", function(e){\n\t\t\t\to.next({event: e, context: this, action: 'change'});\n\t\t\t}, false);\n\t\t})\n\t\t.flatMap(function(response){\n\t\t\tlet el = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.remove('progress-bar-not-visible');\n\t\t\treturn createLoadFileStream(response.context.files);\n\t\t})\n\t\t.do(function(response){\n\t\t\tif (response !== 0){\n\t\t\t\thandleFile(response.data);\n\t\t\t}\n\t\t});\n\n\tlet dragenterStream = Rx.Observable.create(function(o){\n\t\t\tdropbox.addEventListener(\"dragenter\", function(e){\n\t\t\t\te.stopPropagation();\n\t  \t\t\te.preventDefault();\n\t\t\t\to.next({event: e, context: this, action: 'dragenter'});\n\t\t\t}, false);\n\t\t});\n\n\tlet dragleaveStream = Rx.Observable.create(function(o){\n\t\t\tdropbox.addEventListener('dragleave', function(e){\n\t\t\t\te.stopPropagation();\n\t  \t\t\te.preventDefault();\n\t  \t\t\tdropbox.classList.remove('kev-dragover');\n\t  \t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\t\to.next({event: e, context: this, action: 'dragleave'});\n\t\t\t}, false);\n\t});\n\n\tlet dragoverStream = Rx.Observable.create(function(o){\n\t\tdropbox.addEventListener('dragover', function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tdropbox.classList.add('kev-dragover');\n\t\t\tpreviewElement.classList.add('kev-dragover');\n\t\t\to.next({event: e, context: this, action: 'dragover'});\n\t\t}, false);\n\t});\n\n\tlet dropStream = Rx.Observable.create(function(o){\n\t\tdropbox.addEventListener('drop', function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tlet dt = e.dataTransfer;\n\t\t\tlet files = dt.files;\n\n\t\t\tlet el = document.querySelector('.upload-progress-bar');\n\t\t\tel.classList.remove('progress-bar-not-visible');\n\n\t\t\to.next({event: e, context: this, action: 'drop', files: files});\n\n\t\t}, false);\n\t})\n\t.flatMap(function(response){\n\t\treturn createLoadFileStream(response.files);\n\t})\n\t.do(function(response){\n\t\tif (response !== 0){\n\t\t\thandleFile(response.data);\n\t\t\tdropbox.classList.remove('kev-dragover');\n\t\t\tpreviewElement.classList.remove('kev-dragover');\n\t\t\tdropbox.classList.remove('kev-init');\n\t\t}\n\t});\n\n\t// let cancelStream = Rx.Observable.create(function(o){\n\t// \tappLogoCancelBtn.addEventListener('click', function(e){\n\t// \t\t appLogoInputElement.value = '';\n\t// \t\tpreviewElement.file = undefined;\n\t// \t\tpreviewElement.src='';\n\n\t// \t\tappLogoInputFileNameElement.value = '';\n\n\t// \t\tdropbox.classList.add('kev-init');\n\n\t// \t\to.next({event: e, context: this, action: 'cancel'});\n\t// \t}, false);\n\t// });\n\n\t// let intervalStream = Rx.Observable\n\t// \t\t\t\t\t    .interval(2000 /* ms */)\n\t// \t\t\t\t\t    .timeInterval();\n\n\tlet selectImageStream = Rx.Observable.merge(uploadBtnStream,\n\t\t\t\t\t\t\t\t\t\tuploadStream, \n\t\t\t\t\t\t\t\t\t\tdragenterStream,\n\t\t\t\t\t\t\t\t\t\tdragleaveStream,\n\t\t\t\t\t\t\t\t\t\tdragoverStream, \n\t\t\t\t\t\t\t\t\t\tdropStream);\n\t\t\t\t\t\t\t\t\t\t//cancelStream);\n\n\treturn selectImageStream;\n};\n\n\nexport {createSelectImageStream};\n\n\n// WEBPACK FOOTER //\n// ./js/selectFileStream.js","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"5368ecd4ec1a1ac64a4c.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader!./js/uploadfile-worker.js\n// module id = 2\n// module chunks = 0","module.exports = Rx;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Rx\"\n// module id = 3\n// module chunks = 0","module.exports = Vue;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Vue\"\n// module id = 4\n// module chunks = 0","module.exports = dialogPolyfill;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dialogPolyfill\"\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}